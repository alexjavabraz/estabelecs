<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<f:view contentType="text/html" encoding="ISO-8859-1">
<h:head>
<meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type" />
</h:head>

<h:body>
	<ui:include src="menu.xhtml" />
	<h:form id="formularioPesquisar">
		<p:growl id="messages" showDetail="true" />
		
		<p:panelGrid columns="3" layout="grid">
			<p:graphicImage value="/imagens/app/encontre.jpg" />
			
			
			
			<h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl" actionListener="#{pesquisaAplicacaoBBen.buscarPorGrupo}" >
            		<f:attribute name="idGrupo" value="3" />
            		<p:graphicImage value="/imagens/app/comer_beber.jpg" />
            </h:commandLink>
			
			<p:graphicImage value="/imagens/app/diversao.jpg" />
			<p:graphicImage value="/imagens/app/noticias.jpg" />
			<p:graphicImage value="imagens/app/promocoes.jpg" />
			
			<h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl" actionListener="#{pesquisaAplicacaoBBen.buscarPorGrupo}" >
            		<f:attribute name="idGrupo" value="8" />
            		<p:graphicImage value="imagens/app/servicos.jpg" />
            </h:commandLink>
			
		</p:panelGrid>
		<p:panelGrid columns="4" layout="grid">
		
            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"><p:graphicImage value="imagens/app/guiaversao2003.jpg"  width="200px" height="100px" /></h:commandLink>
            
            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl" actionListener="#{pesquisaAplicacaoBBen.buscarPorGrupo}" >
            		<f:attribute name="idGrupo" value="3" />
            		<p:graphicImage value="imagens/app/guiacomerbeber3003.jpg" width="200px" height="100px"/>
            </h:commandLink>
            
            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl"  actionListener="#{pesquisaAplicacaoBBen.buscarPorGrupo}" >
            		<f:attribute name="idGrupo" value="3" />
            		<p:graphicImage value="imagens/app/shows3003.jpg" width="200px" height="100px"/>
            </h:commandLink>
            
            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl"  actionListener="#{pesquisaAplicacaoBBen.buscarPorGrupo}" >
            		<f:attribute name="idGrupo" value="6" />
            		<p:graphicImage value="imagens/app/fitness.jpg" width="200px" height="100px"/>
            </h:commandLink>
            
            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl"  actionListener="#{pesquisaAplicacaoBBen.buscarPorGrupo}" >
            		<f:attribute name="idGrupo" value="4" />
            		<p:graphicImage value="imagens/app/petshop.jpg" width="200px" height="100px"/>
            </h:commandLink>
            
            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl"  actionListener="#{pesquisaAplicacaoBBen.buscarPorSubGrupo}" >
            		<f:attribute name="idSubGrupo" value="11" />
            		<p:graphicImage value="imagens/app/cafeterias.jpg" width="200px" height="100px"/>
            </h:commandLink>
            
            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl"  actionListener="#{pesquisaAplicacaoBBen.buscarPorSubGrupo}" >
            		<f:attribute name="idSubGrupo" value="1" />
            		<p:graphicImage value="imagens/app/salaodebeleza1.jpg" width="200px" height="100px"/>
            </h:commandLink>
            
            <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default" update="tbl"  actionListener="#{pesquisaAplicacaoBBen.buscarPorGrupo}" >
            		<f:attribute name="idGrupo" value="5" />
            		<p:graphicImage value="imagens/app/guiasaude.jpg" width="200px" height="100px"/>
            </h:commandLink>                       
						
		</p:panelGrid>
		
		<p:panelGrid columns="2">
		
		</p:panelGrid>
		
		<p:dataTable id="tbl" var="estabelecimento" rendered="#{pesquisaAplicacaoBBen.estabelecimentos ne null}" value="#{pesquisaAplicacaoBBen.estabelecimentos}"
					paginator="true" rows="10" style="margin-bottom:20px">

					<p:column>
						<f:facet name="header">
							<h:outputText value="Nome Fantasia" />
						</f:facet>
						<h:outputText value="#{estabelecimento.nomeFantasia}" />
					</p:column>	
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="Sub-Grupo" />
						</f:facet>
						<h:outputText value="#{estabelecimento.estabelecimentoSugGrupo.nomeSubGrupo}" />
					</p:column>						
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="E-mail" />
						</f:facet>
						<h:outputText value="#{estabelecimento.email}" />
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="Site" />
						</f:facet>
						<h:outputText value="#{estabelecimento.site}" />
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="Telefones" />
						</f:facet>
						<h:outputText value="#{estabelecimento.telefone}" /> - 
						<h:outputText value="#{estabelecimento.telefoneCelular}" />
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="Posicionamento" />
						</f:facet>
						<h:outputText value="#{estabelecimento.idDestaque ? 'Destacado na posicao '.concat(estabelecimento.posicao) : ''}" /> 
					</p:column>		
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="Endereço" />
						</f:facet>
						<h:outputText value="#{estabelecimento.endRua}" />,
						<h:outputText value="#{estabelecimento.endNumero}" />,
						<h:outputText value="#{estabelecimento.endRua}" />
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="Imagem" />
						</f:facet>
						
						<p:graphicImage style="width:150px;height:150px" value="#{pesquisaAplicacaoBBen.imagem}">
							    <f:param name="image_id" value="#{estabelecimento.id}"/>
						</p:graphicImage>
						
					</p:column>
					
					<p:column>
								<f:facet name="header">
									<h:outputLabel for="xdatainclusao" value="Data Inclusão" />
								</f:facet>
								<h:outputText id="xdatainclusao" value="#{estabelecimento.dhInclusao}" >
								    <f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
								</h:outputText>
					</p:column>	
					
				</p:dataTable>
				
		
	</h:form>
    </h:body>
    </f:view>
</html>
